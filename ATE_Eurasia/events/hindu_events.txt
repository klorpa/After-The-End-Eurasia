#####################################################################
#		Hindu Event Reference Numbers for Ease of Reference			#
#	x hindu.1 - hindu.10 : Hindu Branch Trait Switch				#
#	x hindu.11 - hindu.19 : Sallekhana Events						#
#	x hindu.20 - hindu.29 : Mahashivaratri Festival					#
##################################################################### 
namespace=hindu

#### Mantramarga branch choice event ####

character_event = {
	id = hindu.1
	desc = EVTDESC_HINDU_1
	picture = GFX_evt_mantramarga_branch
	religion = mantramarga
	is_triggered_only = yes
	
	trigger = {
		NOT = { 
			has_alternate_start_parameter = { key = religion_names value = random }
		}
	}
	
	option = {
		name = EVTOPTA_HINDU_1
		hidden_tooltip = {
			remove_trait = natha
			remove_trait = siddhanta
		}
		add_trait = lingayat
		ai_chance = {
			factor = 10
			modifier = { factor = 2 stewardship = 5 }
			modifier = { factor = 2 diplomacy = 5 }
		}
	}
	
	option = {
		name = EVTOPTB_HINDU_1
		hidden_tooltip = {
			remove_trait = lingayat
			remove_trait = siddhanta
		}
		add_trait = natha
		ai_chance = {
			factor = 10
			modifier = { factor = 2 learning = 5 }
			modifier = { factor = 2 martial = 5 }
		}
	}
	
	option = {
		name = EVTOPTC_HINDU_1
		hidden_tooltip = {
			remove_trait = lingayat
			remove_trait = natha 
		}
		add_trait = siddhanta 
		ai_chance = {
			factor = 10
			modifier = { factor = 2 stewardship = 5 }
			modifier = { factor = 2 learning = 5 }
		}
	}
}

#### Sallekhana event chain ####

#### Mahashivaratri event chain ####
narrative_event = { #Heading to the Temple
	id = hindu.20
	title = EVT_TITLE_HINDU_20
	desc = EVTDESC_HINDU_20
	picture = GFX_evt_night_festival_hindu
	is_triggered_only = yes
	option = {
		name = EVTOPTA_HINDU_20
		piety = 50
		narrative_event = { id= hindu.21 days=1 }
	}
	option = {
		name = EVTOPTB_HINDU_20
		prestige = 50
		narrative_event = { id= hindu.21 days=1 }
	}
}
narrative_event = { #Learning about Shiva, options praising Shiva
	id = hindu.21
	title = EVT_TITLE_HINDU_21
	desc = EVTDESC_HINDU_21
	picture = GFX_evt_lord_shiva_dance
	is_triggered_only = yes
	option = {
		name = EVTOPTA_HINDU_21
		piety = 50
		narrative_event = { id= hindu.22 days=1 }
	}
}
narrative_event = { #Watch a Dance or Meditate
	id = hindu.22
	title = EVT_TITLE_HINDU_22
	desc = EVTDESC_HINDU_22
	picture = GFX_evt_night_festival_hindu
	is_triggered_only = yes
	option = {
		name = EVTOPTA_HINDU_22
		piety = 50
		narrative_event = { id= hindu.23 days=1 } #Natyanjali
	}
	option = {
		name = EVTOPTB_HINDU_22
		piety = 50
		narrative_event = { id= hindu.24 days=1 } #Skip to the Next Event
	}
}
narrative_event = { #Natyanjali
	id = hindu.23
	title = EVT_TITLE_HINDU_23
	desc = EVTDESC_HINDU_23
	picture = GFX_evt_night_festival_hindu
	is_triggered_only = yes
	option = {
		name = EVTOPTA_HINDU_23
		piety = 50
		narrative_event = { id= hindu.24 days=1 } #Meditate
	}
}
narrative_event = { #Meditating
	id = hindu.24
	title = EVT_TITLE_HINDU_24
	desc = EVTDESC_HINDU_24
	picture = GFX_evt_yoga_meditation
	is_triggered_only = yes
	option = { #Meditate on non-harming living beings
		name = EVTOPTA_HINDU_24
		piety = 50
		random_list = {
			50 = {add_trait = vegetarian}
			50 = {add_trait = pious}
		}
		narrative_event = { id= hindu.25 days=1 } #End of the Event
	}
	option = { #Meditate on Overcoming deepest Darkness (A chance to Remove a sin)
		name = EVTOPTB_HINDU_24
		piety = 50
		random_list = {
			10 = {remove_trait = lustful }
			10 = {remove_trait = gluttonous}
			10 = {remove_trait = greedy	}
			10 = {remove_trait = slothful }
			10 = {remove_trait = wroth }
			10 = {remove_trait = envious }
			10 = {remove_trait = proud }
			30 = { }
		}
		narrative_event = { id= hindu.25 days=1 } #End of the Event
	}
	option = { #Meditate on Overcoming Ignorance (A chance to gain Learning)
		name = EVTOPTC_HINDU_24
		piety = 50
		random_list = {
			20 = {change_learning = 1 }
			80 = { }
		}
		narrative_event = { id= hindu.25 days=1 } #End of the Event
	}
}
narrative_event = { #End of The Night
	id = hindu.25
	title = EVT_TITLE_HINDU_25
	desc = EVTDESC_HINDU_25
	picture = GFX_evt_night_festival_hindu
	is_triggered_only = yes
	option = {
		name = EVTOPTA_HINDU_25
		piety = 50
		hidden_tooltip = {
			remove_character_modifier = { name = celebrating_mahashivaratri }
			clr_character_flag = do_not_disturb
		}
	}
}



# #Siddhar Events

# character_event = {
	# id = hindu.500
	# desc = EVTDESC_RIP_11050
	# picture = GFX_evt_courier
	# border = GFX_event_normal_frame_religion

	# is_triggered_only = yes

	# immediate = {
		# set_character_flag = looking_for_court_physician
	# }

	# option = {
		# name = EVTOPTA_RIP_11050
		# hidden_tooltip = { character_event = { id = hindu.501 days = 10 random = 10 } }
	# }
# }

# #Found a Court Siddhar
# character_event = {
	# id = hindu.501
	# hide_window = yes

	# is_triggered_only = yes

	# immediate = {
		# clr_character_flag = looking_for_court_physician
		# set_character_flag = found_court_physician
		# random_list = {
			# 4 = { # Drunk Village Physician (Unschooled, 18+ Learning)
				# modifier = {
					# factor = 0
					# AND = {
						# has_character_flag = got_siddhar_1
						# NOT = { had_character_flag = { flag = got_siddhar_1 days = 3650 } }
					# }
				# }
				# Same Religion & Culture as ROOT
				# create_character = {
					# religion = ROOT
					# culture = ROOT
					# dynasty = none
					# age = 35
					# random_traits = yes
					# female = no
					# attributes = {
						# learning = 20
					# }
					# health = 6
					# trait = mystic
					# trait = mastermind_theologian
					# flag = is_court_physician
					# flag = siddhar_1
				# }
				# new_character = {
					# random_list = { # Is the Physician a Quack?
						# 90 = {
						# }
						# 10 = {
							# set_character_flag = physician_is_quack
						# }
					# }
					# save_event_target_as = recruited_physician_target
					# character_event = { id = hindu.502 }
				# }
			# }
		# }
	# }
# }

# character_event = {
	# id = hindu.502

	# hide_window = yes
	# hide_new = yes
	# is_triggered_only = yes

	# immediate = {
		# FROM = { character_event = { id = hindu.503 } }
	# }
# }

# #Notify player of Court Physician
# character_event = {
	# id = hindu.503
	# picture = GFX_evt_bishop
	# border = GFX_event_normal_frame_religion

	# hide_new = yes
	
	# portrait = event_target:recruited_physician_target

	# is_triggered_only = yes
	

	# desc = {
		# text = EVTDESC_RIP_11053_VILLAGE_DRUNKARD
		# picture = GFX_evt_drunk
		# trigger = {
			# event_target:recruited_physician_target = { has_character_flag = siddhar_1 }
		# }
	# }
	
	# option = {
		# name = EVTOPTM_RIP_11053
		# trigger = {
			# event_target:recruited_physician_target = { has_character_flag = siddhar_1 }
		# }
		# hidden_tooltip = {
			# set_character_flag = got_siddhar_1
			# if = {
				# limit = {
					# any_courtier_or_vassal = {
						# liege = { character = ROOT }
						# has_minor_title = title_court_siddhar
					# }
				# }
				# any_courtier_or_vassal = {
					# limit = {
						# liege = { character = ROOT }
						# has_minor_title = title_court_siddhar
					# }
					# remove_title = title_court_siddhar
				# }
			# }
		# }
		# transfer_scaled_wealth = {
			# to = event_target:recruited_physician_target
			# min = 10
			# value = 0.05
		# }
		# event_target:recruited_physician_target = {
			# show_scope_change = no
			# opinion = {
				# modifier = opinion_glad
				# who = ROOT
				# years = 5
			# }
			# give_minor_title = title_court_siddhar
		# }
	# }
# }