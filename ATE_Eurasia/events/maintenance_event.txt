namespace = maintenance

character_event = {
	id = maintenance.1
	hide_window = yes
	is_triggered_only = yes
	only_rulers = yes
	war = no
	
	trigger = {
		always = no
		AND = {
			landless = yes
			has_landed_title = c_roman_patriarch
		}
	}
	
	immediate = {
		set_government_type = theocracy_government
		if = {
			limit = { has_landed_title = c_roman_patriarch }
			c_roman_patriarch = { destroy_landed_title = THIS }
		}
	}
	
	option = {
		name = OK
		set_government_type = theocracy_government
		if = {
			limit = {has_landed_title = c_roman_patriarch}
			activate_title = { title = c_roman_patriarch status = no}
		}
	}	
}
character_event = {
	id = maintenance.2
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		AND = {
			religion = catholic
			NOT = {
				has_character_flag = rite_selected
			}
		}
	}
	
	immediate = {
		if = {
			limit = { 
				OR = {
					capital_scope = {region = custom_western_europe}
					culture = croatian
					culture = slovene
				}
			}
			add_trait = latin_rite
			remove_trait = byzantine_rite
			remove_trait = alexandrian_rite
			remove_trait = maronite_rite
			remove_trait = armenian_rite
		}
		else_if = {
			limit = { 
				culture = lebneni 
				NOT = {
					culture = armenian
				}
			}
			add_trait = maronite_rite
			remove_trait = latin_rite
			remove_trait = alexandrian_rite
			remove_trait = byzantine_rite
			remove_trait = armenian_rite
		}
		else_if = {
			limit = {
				OR = {
					OR = {
						culture = suriyi
						culture = filastini
						culture = furataini
						culture = assyrian
					}
					OR = {
						culture_group = hellenic
						culture_group = baltic
						culture_group = russian
						culture_group = south_slavic
						culture_group = ruthenian
						culture_group = carpathian
					}
				}
				NOT = {
					culture = armenian
				}
				has_global_flag = byzantine_rite_restored
			}
			add_trait = byzantine_rite
			remove_trait = latin_rite
			remove_trait = alexandrian_rite
			remove_trait = maronite_rite
			remove_trait = armenian_rite
		}
		else_if = {
			limit = {
				culture = masri
				culture_group = habesha
				has_global_flag = alexandrian_rite_restored
				NOT = {
					culture = armenian
				}
			}
			add_trait = alexandrian_rite
			remove_trait = latin_rite
			remove_trait = maronite_rite
			remove_trait = byzantine_rite
			remove_trait = armenian_rite
		}
		else_if = {
			limit = {
				culture = armenian 
			}
			add_trait = armenian_rite
			remove_trait = latin_rite
			remove_trait = alexandrian_rite
			remove_trait = byzantine_rite
			remove_trait = maronite_rite
		}
	}
}
character_event = {
	id = maintenance.3
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		religion = ibadi
	}
	
	immediate = {
		if = {
			limit = { capital_scope = {region = custom_oman} }
			add_trait = wahbi
			remove_trait = nukkari
			remove_trait = azzabas
		}
		else_if = {
			limit = { capital_scope = {region = custom_north_africa} }
			random_list = {
				50 = {add_trait = nukkari}
				50 = {add_trait = azzabas}
			}
			remove_trait = wahbi
		}
	}
}
# Change race for newly-generated chars (Modified from ATE)
character_event = {
	id = maintenance.4
	desc = "Change graphical culture"
	is_triggered_only = yes
	hide_window = yes
	
	trigger = {
		NOT = { has_character_flag = diversity }
	}
	
	immediate = {
		set_character_flag = diversity
	}
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 10
				culture = sabra
			}
			modifier = {
				factor = 0
				culture = horse
			}
			modifier = {
				factor = 0
				culture = cat
			}
			modifier = {
				factor = 0
				culture = bear
			}
			modifier = {
				factor = 0
				culture = hedgehog_culture
			}
			modifier = {
				factor = 0
				culture = duck_culture
			}
			modifier = {
				factor = 0
				culture = dog_culture
			}
			modifier = {
				factor = 0
				culture = elephant_culture
			}
			modifier = {
				factor = 0
				culture = dragon_culture
			}
			modifier = {
				factor = 0
				culture = red_panda
			}
			modifier = {
				factor = 0
				culture = albanian
			}
			modifier = {
				factor = 0
				culture = parisian
			}
			modifier = {
				factor = 5
				culture = provencal
			}
		}
		set_graphical_culture = eastafrican
	}
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				culture = sabra
			}
			modifier = {
				factor = 0
				culture = horse
			}
			modifier = {
				factor = 0
				culture = cat
			}
			modifier = {
				factor = 0
				culture = bear
			}
			modifier = {
				factor = 0
				culture = hedgehog_culture
			}
			modifier = {
				factor = 0
				culture = duck_culture
			}
			modifier = {
				factor = 0
				culture = dog_culture
			}
			modifier = {
				factor = 0
				culture = elephant_culture
			}
			modifier = {
				factor = 0
				culture = dragon_culture
			}
			modifier = {
				factor = 0
				culture = red_panda
			}
			modifier = {
				factor = 0
				culture = albanian
			}
			modifier = {
				factor = 15
				culture = parisian
			}
			modifier = {
				factor = 10
				culture = provencal
			}
		}
		set_graphical_culture = westafrican
	}

	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 40
				culture = sabra
			}
			modifier = {
				factor = 0
				culture = horse
			}
			modifier = {
				factor = 0
				culture = cat
			}
			modifier = {
				factor = 0
				culture = bear
			}
			modifier = {
				factor = 0
				culture = hedgehog_culture
			}
			modifier = {
				factor = 0
				culture = duck_culture
			}
			modifier = {
				factor = 0
				culture = dog_culture
			}
			modifier = {
				factor = 0
				culture = elephant_culture
			}
			modifier = {
				factor = 0
				culture = dragon_culture
			}
			modifier = {
				factor = 0
				culture = red_panda
			}
			modifier = {
				factor = 0
				culture = albanian
			}
			modifier = {
				factor = 15
				culture = parisian
			}
			modifier = {
				factor = 20
				culture = provencal
			}
		}
		set_graphical_culture = arabic
	}

	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				culture = horse
			}
			modifier = {
				factor = 0
				culture = cat
			}
			modifier = {
				factor = 0
				culture = bear
			}
			modifier = {
				factor = 0
				culture = hedgehog_culture
			}
			modifier = {
				factor = 0
				culture = duck_culture
			}
			modifier = {
				factor = 0
				culture = dog_culture
			}
			modifier = {
				factor = 0
				culture = elephant_culture
			}
			modifier = {
				factor = 0
				culture = dragon_culture
			}
			modifier = {
				factor = 0
				culture = red_panda
			}
			modifier = {
				factor = 0
				culture = albanian
			}
			modifier = {
				factor = 0
				culture = sabra
			}
			modifier = {
				factor = 0
				culture = parisian
			}
			modifier = {
				factor = 0
				culture = provencal
			}
		}
		set_graphical_culture = asian
	}

	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				culture = horse
			}
			modifier = {
				factor = 0
				culture = cat
			}
			modifier = {
				factor = 0
				culture = bear
			}
			modifier = {
				factor = 0
				culture = hedgehog_culture
			}
			modifier = {
				factor = 0
				culture = duck_culture
			}
			modifier = {
				factor = 0
				culture = dog_culture
			}
			modifier = {
				factor = 0
				culture = elephant_culture
			}
			modifier = {
				factor = 0
				culture = dragon_culture
			}
			modifier = {
				factor = 0
				culture = red_panda
			}
			modifier = {
				factor = 0
				culture = albanian
			}
			modifier = {
				factor = 0
				culture = sabra
			}
			modifier = {
				factor = 5
				culture = parisian
			}
			modifier = {
				factor = 0
				culture = provencal
			}
		}
		set_graphical_culture = southeastasian
	}

	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				culture = albanian
			}
			modifier = {
				factor = 0
				culture = horse
			}
			modifier = {
				factor = 0
				culture = cat
			}
			modifier = {
				factor = 0
				culture = bear
			}
			modifier = {
				factor = 0
				culture = hedgehog_culture
			}
			modifier = {
				factor = 0
				culture = duck_culture
			}
			modifier = {
				factor = 0
				culture = dog_culture
			}
			modifier = {
				factor = 0
				culture = elephant_culture
			}
			modifier = {
				factor = 0
				culture = dragon_culture
			}
			modifier = {
				factor = 0
				culture = red_panda
			}
			modifier = {
				factor = 0
				culture = albanian
			}
			modifier = {
				factor = 0
				culture = sabra
			}
			modifier = {
				factor = 0
				culture = parisian
			}
			modifier = {
				factor = 0
				culture = provencal
			}
		}
		set_graphical_culture = norse
	}

	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				culture = horse
			}
			modifier = {
				factor = 0
				culture = cat
			}
			modifier = {
				factor = 0
				culture = bear
			}
			modifier = {
				factor = 0
				culture = hedgehog_culture
			}
			modifier = {
				factor = 0
				culture = duck_culture
			}
			modifier = {
				factor = 0
				culture = dog_culture
			}
			modifier = {
				factor = 0
				culture = elephant_culture
			}
			modifier = {
				factor = 0
				culture = dragon_culture
			}
			modifier = {
				factor = 0
				culture = red_panda
			}
			modifier = {
				factor = 0
				culture = albanian
			}
			modifier = {
				factor = 0
				culture = sabra
			}
			modifier = {
				factor = 0
				culture = parisian
			}
			modifier = {
				factor = 0
				culture = provencal
			}
		}
		set_graphical_culture = celtic
	}

	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				culture = horse
			}
			modifier = {
				factor = 0
				culture = cat
			}
			modifier = {
				factor = 0
				culture = bear
			}
			modifier = {
				factor = 0
				culture = hedgehog_culture
			}
			modifier = {
				factor = 0
				culture = duck_culture
			}
			modifier = {
				factor = 0
				culture = dog_culture
			}
			modifier = {
				factor = 0
				culture = elephant_culture
			}
			modifier = {
				factor = 0
				culture = dragon_culture
			}
			modifier = {
				factor = 0
				culture = red_panda
			}
			modifier = {
				factor = 0
				culture = albanian
			}
			modifier = {
				factor = 0
				culture = sabra
			}
			modifier = {
				factor = 0
				culture = parisian
			}
			modifier = {
				factor = 0
				culture = provencal
			}
		}
		set_graphical_culture = ugric
	}

	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				culture = horse
			}
			modifier = {
				factor = 0
				culture = cat
			}
			modifier = {
				factor = 0
				culture = bear
			}
			modifier = {
				factor = 0
				culture = hedgehog_culture
			}
			modifier = {
				factor = 0
				culture = duck_culture
			}
			modifier = {
				factor = 0
				culture = dog_culture
			}
			modifier = {
				factor = 0
				culture = elephant_culture
			}
			modifier = {
				factor = 0
				culture = dragon_culture
			}
			modifier = {
				factor = 0
				culture = red_panda
			}
			modifier = {
				factor = 0
				culture = albanian
			}
			modifier = {
				factor = 0
				culture = parisian
			}
			modifier = {
				factor = 0
				culture = provencal
			}
		}
		set_graphical_culture = mediterranean
	}

	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				culture = horse
			}
			modifier = {
				factor = 0
				culture = cat
			}
			modifier = {
				factor = 0
				culture = bear
			}
			modifier = {
				factor = 0
				culture = hedgehog_culture
			}
			modifier = {
				factor = 0
				culture = duck_culture
			}
			modifier = {
				factor = 0
				culture = dog_culture
			}
			modifier = {
				factor = 0
				culture = elephant_culture
			}
			modifier = {
				factor = 0
				culture = dragon_culture
			}
			modifier = {
				factor = 0
				culture = red_panda
			}
			modifier = {
				factor = 0
				culture = albanian
			}
			modifier = {
				factor = 0
				culture = sabra
			}
			modifier = {
				factor = 0
				culture = parisian
			}
			modifier = {
				factor = 0
				culture = provencal
			}
		}
		set_graphical_culture = indian
	}
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 20
				culture = sabra
			}
			modifier = {
				factor = 0
				culture = horse
			}
			modifier = {
				factor = 0
				culture = cat
			}
			modifier = {
				factor = 0
				culture = bear
			}
			modifier = {
				factor = 0
				culture = hedgehog_culture
			}
			modifier = {
				factor = 0
				culture = duck_culture
			}
			modifier = {
				factor = 0
				culture = dog_culture
			}
			modifier = {
				factor = 0
				culture = elephant_culture
			}
			modifier = {
				factor = 0
				culture = dragon_culture
			}
			modifier = {
				factor = 0
				culture = red_panda
			}
			modifier = {
				factor = 0
				culture = albanian
			}
			modifier = {
				factor = 0
				culture = parisian
			}
			modifier = {
				factor = 0
				culture = provencal
			}
		}
		set_graphical_culture = slavic
	}
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 10
				culture = sabra
			}
			modifier = {
				factor = 0
				culture = horse
			}
			modifier = {
				factor = 0
				culture = cat
			}
			modifier = {
				factor = 0
				culture = bear
			}
			modifier = {
				factor = 0
				culture = hedgehog_culture
			}
			modifier = {
				factor = 0
				culture = duck_culture
			}
			modifier = {
				factor = 0
				culture = dog_culture
			}
			modifier = {
				factor = 0
				culture = elephant_culture
			}
			modifier = {
				factor = 0
				culture = dragon_culture
			}
			modifier = {
				factor = 0
				culture = red_panda
			}
			modifier = {
				factor = 0
				culture = albanian
			}
			modifier = {
				factor = 0
				culture = parisian
			}
			modifier = {
				factor = 0
				culture = provencal
			}
		}
		set_graphical_culture = west_slavic
	}

	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 20
				culture = sabra
			}
			modifier = {
				factor = 0
				culture = horse
			}
			modifier = {
				factor = 0
				culture = cat
			}
			modifier = {
				factor = 0
				culture = bear
			}
			modifier = {
				factor = 0
				culture = hedgehog_culture
			}
			modifier = {
				factor = 0
				culture = duck_culture
			}
			modifier = {
				factor = 0
				culture = dog_culture
			}
			modifier = {
				factor = 0
				culture = elephant_culture
			}
			modifier = {
				factor = 0
				culture = dragon_culture
			}
			modifier = {
				factor = 0
				culture = red_panda
			}
			modifier = {
				factor = 0
				culture = albanian
			}
			modifier = {
				factor = 0
				culture = parisian
			}
			modifier = {
				factor = 0
				culture = provencal
			}
		}
		set_graphical_culture = german
	}

	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				culture = horse
			}
			modifier = {
				factor = 0
				culture = cat
			}
			modifier = {
				factor = 0
				culture = bear
			}
			modifier = {
				factor = 0
				culture = hedgehog_culture
			}
			modifier = {
				factor = 0
				culture = duck_culture
			}
			modifier = {
				factor = 0
				culture = dog_culture
			}
			modifier = {
				factor = 0
				culture = elephant_culture
			}
			modifier = {
				factor = 0
				culture = dragon_culture
			}
			modifier = {
				factor = 0
				culture = red_panda
			}
			modifier = {
				factor = 0
				culture = albanian
			}
			modifier = {
				factor = 0
				culture = sabra
			}
			modifier = {
				factor = 0
				culture = parisian
			}
			modifier = {
				factor = 0
				culture = provencal
			}
		}
		set_graphical_culture = english
	}
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				culture = horse
			}
			modifier = {
				factor = 0
				culture = cat
			}
			modifier = {
				factor = 0
				culture = bear
			}
			modifier = {
				factor = 0
				culture = hedgehog_culture
			}
			modifier = {
				factor = 0
				culture = duck_culture
			}
			modifier = {
				factor = 0
				culture = dog_culture
			}
			modifier = {
				factor = 0
				culture = elephant_culture
			}
			modifier = {
				factor = 0
				culture = dragon_culture
			}
			modifier = {
				factor = 0
				culture = albanian
			}
			modifier = {
				factor = 0
				culture = parisian
			}
			modifier = {
				factor = 0
				culture = provencal
			}
		}
		set_graphical_culture = iranian
	}
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				culture = horse
			}
			modifier = {
				factor = 0
				culture = cat
			}
			modifier = {
				factor = 0
				culture = bear
			}
			modifier = {
				factor = 0
				culture = hedgehog_culture
			}
			modifier = {
				factor = 0
				culture = duck_culture
			}
			modifier = {
				factor = 0
				culture = dog_culture
			}
			modifier = {
				factor = 0
				culture = elephant_culture
			}
			modifier = {
				factor = 0
				culture = dragon_culture
			}
			modifier = {
				factor = 0
				culture = red_panda
			}
			modifier = {
				factor = 0
				culture = albanian
			}
			modifier = {
				factor = 0
				culture = sabra
			}
			modifier = {
				factor = 0
				culture = parisian
			}
			modifier = {
				factor = 20
				culture = provencal
			}
		}
		set_graphical_culture = italian
	}
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				culture = horse
			}
			modifier = {
				factor = 0
				culture = cat
			}
			modifier = {
				factor = 0
				culture = bear
			}
			modifier = {
				factor = 0
				culture = hedgehog_culture
			}
			modifier = {
				factor = 0
				culture = duck_culture
			}
			modifier = {
				factor = 0
				culture = dog_culture
			}
			modifier = {
				factor = 0
				culture = elephant_culture
			}
			modifier = {
				factor = 0
				culture = dragon_culture
			}
			modifier = {
				factor = 0
				culture = red_panda
			}
			modifier = {
				factor = 0
				culture = albanian
			}
			modifier = {
				factor = 0
				culture = sabra
			}
			modifier = {
				factor = 65
				culture = parisian
			}
			modifier = {
				factor = 40
				culture = provencal
			}
		}
		set_graphical_culture = french
	}
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				culture = horse
			}
			modifier = {
				factor = 0
				culture = cat
			}
			modifier = {
				factor = 0
				culture = bear
			}
			modifier = {
				factor = 0
				culture = hedgehog_culture
			}
			modifier = {
				factor = 0
				culture = duck_culture
			}
			modifier = {
				factor = 0
				culture = dog_culture
			}
			modifier = {
				factor = 0
				culture = elephant_culture
			}
			modifier = {
				factor = 0
				culture = dragon_culture
			}
			modifier = {
				factor = 50
				culture = albanian
			}
			modifier = {
				factor = 0
				culture = sabra
			}
			modifier = {
				factor = 0
				culture = parisian
			}
			modifier = {
				factor = 0
				culture = provencal
			}
		}
		set_graphical_culture = greek
	}
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				culture = horse
			}
			modifier = {
				factor = 0
				culture = cat
			}
			modifier = {
				factor = 0
				culture = bear
			}
			modifier = {
				factor = 0
				culture = hedgehog_culture
			}
			modifier = {
				factor = 0
				culture = duck_culture
			}
			modifier = {
				factor = 0
				culture = dog_culture
			}
			modifier = {
				factor = 0
				culture = elephant_culture
			}
			modifier = {
				factor = 0
				culture = dragon_culture
			}
			modifier = {
				factor = 0
				culture = red_panda
			}
			modifier = {
				factor = 0
				culture = albanian
			}
			modifier = {
				factor = 0
				culture = sabra
			}
			modifier = {
				factor = 0
				culture = parisian
			}
			modifier = {
				factor = 0
				culture = provencal
			}
		}
		set_graphical_culture = tibetan
	}
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 50
				culture = albanian
			}
			modifier = {
				factor = 0
				culture = horse
			}
			modifier = {
				factor = 0
				culture = cat
			}
			modifier = {
				factor = 0
				culture = bear
			}
			modifier = {
				factor = 0
				culture = hedgehog_culture
			}
			modifier = {
				factor = 0
				culture = duck_culture
			}
			modifier = {
				factor = 0
				culture = dog_culture
			}
			modifier = {
				factor = 0
				culture = elephant_culture
			}
			modifier = {
				factor = 0
				culture = dragon_culture
			}
			modifier = {
				factor = 0
				culture = red_panda
			}
			modifier = {
				factor = 0
				culture = sabra
			}
			modifier = {
				factor = 0
				culture = parisian
			}
			modifier = {
				factor = 0
				culture = provencal
			}
		}
		set_graphical_culture = southslavic
	}
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { culture = horse }
			}
		}
		set_graphical_culture = horse
	}
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { culture = cat }
			}
		}
		set_graphical_culture = cat
	}
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { culture = bear }
			}
		}
		set_graphical_culture = bear
	}
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { culture = hedgehog_culture }
			}
		}
		set_graphical_culture = hedgehog_culture
	}
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { culture = duck_culture }
			}
		}
		set_graphical_culture = duck_culture
	}
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { culture = dog_culture }
			}
		}
		set_graphical_culture = dog_culture
	}
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { culture = elephant_culture }
			}
		}
		set_graphical_culture = elephant_culture
	}
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { culture = dragon_culture }
			}
		}
		set_graphical_culture = dragon_culture
	}
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { culture = red_panda }
			}
		}
		set_graphical_culture = red_panda
	}
}
character_event = { #Madhab Trait Dispensing (on_startup and on_adulthood checking for Sunnah kids becoming adults has formed)
	id = maintenance.5
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		OR = {
			religion = sunnah
			religion = ahl_as_salah
			religion = sunni
		}
	}
	
	immediate = {
		if = {
			limit = { 
				OR = {
					culture = kurdish
					culture = yemeni
					culture = hadhrami
					culture = dhofari
					culture_group = cushitic
				}
				religion = sunni
			}
			add_trait = shafii
			remove_trait = maliki
			remove_trait = hanafi
		}
		else_if = {
			limit = { 
				OR = {
					culture = kurdish
					culture = yemeni
					culture = hadhrami
					culture = dhofari
					culture_group = cushitic
				}
				religion = sunnah
			}
			add_trait = shafii_sunnah
			remove_trait = maliki_sunnah
			remove_trait = hanafi_sunnah
		}
		else_if = {
			limit = { 
				OR = {
					culture = kurdish
					culture = yemeni
					culture = hadhrami
					culture = dhofari
					culture_group = cushitic
				}
				religion = ahl_as_salah
			}
			add_trait = shafii_aas
			remove_trait = maliki_aas
			remove_trait = hanafi_aas
		}
		else_if = {
			limit = {
				AND = {
					OR = {
						capital_scope = {region = custom_fertile_crescent}
						capital_scope = {region = custom_old_egypt}
					}
					culture_group = arabic
				}
				religion = sunni
			}
			random_list = {
				20 = {add_trait = shafii}
				80 = {add_trait = hanafi}
			}
			remove_trait = maliki
		}
		else_if = {
			limit = {
				AND = {
					OR = {
						capital_scope = {region = custom_fertile_crescent}
						capital_scope = {region = custom_old_egypt}
					}
					culture_group = arabic
				}
				religion = sunnah
			}
			random_list = {
				20 = {add_trait = shafii_sunnah}
				80 = {add_trait = hanafi_sunnah}
			}
			remove_trait = maliki_sunnah
		}
		else_if = {
			limit = {
				AND = {
					OR = {
						capital_scope = {region = custom_fertile_crescent}
						capital_scope = {region = custom_old_egypt}
					}
					culture_group = arabic
				}
				religion = ahl_as_salah
			}
			random_list = {
				20 = {add_trait = shafii_aas}
				80 = {add_trait = hanafi_aas}
			}
			remove_trait = maliki_aas
		}
		else_if = {
			limit = { 
				OR = {
					culture_group = turkic_karluk
					culture_group = turkic_oghuz
					culture_group = turkic_east
					culture_group = turkic_west
					culture_group = caucasian
					culture_group = iranian
				}
				religion = sunni
			}
			add_trait = hanafi
			remove_trait = maliki
			remove_trait = shafii
		}
		else_if = {
			limit = { 
				OR = {
					culture_group = turkic_karluk
					culture_group = turkic_oghuz
					culture_group = turkic_east
					culture_group = turkic_west
					culture_group = caucasian
					culture_group = iranian
				}
				religion = sunnah
			}
			add_trait = hanafi_sunnah
			remove_trait = maliki_sunnah
			remove_trait = shafii_sunnah
		}
		else_if = {
			limit = { 
				OR = {
					culture_group = turkic_karluk
					culture_group = turkic_oghuz
					culture_group = turkic_east
					culture_group = turkic_west
					culture_group = caucasian
					culture_group = iranian
				}
				religion = ahl_as_salah
			}
			add_trait = hanafi_aas
			remove_trait = maliki_aas
			remove_trait = shafii_aas
		}
		else_if = {
			limit = { 
				AND = {
					capital_scope = {region = custom_arabian_pennisula}
					NOT = { 
						culture = yemeni
						culture = hadhrami
						culture = dhofari
					}
				}
				religion = sunni
			}
			add_trait = maliki
			remove_trait = hanafi
			remove_trait = shafii
		}
		else_if = {
			limit = { 
				AND = {
					capital_scope = {region = custom_arabian_pennisula}
					NOT = { 
						culture = yemeni
						culture = hadhrami
						culture = dhofari
					}
				}
				religion = sunnah
			}
			add_trait = maliki_sunnah
			remove_trait = hanafi_sunnah
			remove_trait = shafii_sunnah
		}
		else_if = {
			limit = { 
				AND = {
					capital_scope = {region = custom_arabian_pennisula}
					NOT = { 
						culture = yemeni
						culture = hadhrami
						culture = dhofari
					}
				}
				religion = ahl_as_salah
			}
			add_trait = maliki_aas
			remove_trait = hanafi_aas
			remove_trait = shafii_aas
		}
		else_if = {
			limit = { 
				OR = {
					culture = sudani
					culture_group = nilotic
					culture_group = maghrebi
					culture_group = amazigh
					culture = tigre
				}
				religion = sunni
			}
			add_trait = maliki
			remove_trait = hanafi
			remove_trait = shafii
		}
		else_if = {
			limit = { 
				OR = {
					culture = sudani
					culture_group = nilotic
					culture_group = maghrebi
					culture_group = amazigh
					culture = tigre
				}
				religion = sunnah
			}
			add_trait = maliki_sunnah
			remove_trait = hanafi_sunnah
			remove_trait = shafii_sunnah
		}
		else_if = {
			limit = { 
				OR = {
					culture = sudani
					culture_group = nilotic
					culture_group = maghrebi
					culture_group = amazigh
					culture = tigre
				}
				religion = ahl_as_salah
			}
			add_trait = maliki_aas
			remove_trait = hanafi_aas
			remove_trait = shafii_aas
		}
	}
}