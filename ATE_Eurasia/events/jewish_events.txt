namespace = jewish
###############################################################
#	JEWISH EVENTS - After the End Eurasia					  #
#															  #
#	Religious Trait Selection (jewish.1 - jewish.3)			  #
#	Haredi Events (jewish.1x - jewish.2x)				      #
#	Hasakalah Events (jewish.3x - jewish.4x)				  #
#	Ivri Events (jewish.5x - jewish.6x)						  #
#															  #
#	General Jewish Holidays and Events (jewish.1xx)			  #
#	Jewish Maintanance Events for AI (jewish.2xx)			  #
#															  #
###############################################################

################Choose Jewish Religious Movement##################################
character_event = {
	id = jewish.1
	desc = EVTDESC_haredi_choose
	picture = GFX_evt_bishop
	religion = haredi
	is_triggered_only = yes

	trigger = {
		NOT = {
			has_alternate_start_parameter = { key = religion_names value = random }
		}
	}

	option = {
		name = EVTOPT_haredi_litvak
		desc = EVTOPT_haredi_litvak_desc
		hidden_tooltip = {
			remove_trait = haredi_breslov
			remove_trait = haredi_chassid
			remove_trait = haredi_sepharadi
		}
		add_trait = haredi_litvak
		show_trait = haredi_litvak
		ai_chance = {
			factor = 10
			modifier = { factor = 2 trait = haredi_litvak }
			modifier = { factor = 1.5 trait = erudite }
			modifier = { factor = 1.5 trait = proud }
			modifier = { factor = 0.1 culture = sephardi }
			modifier = { factor = 0.1 culture = sabra }
			madifier = { factor = 5 culture = yiddish }
		}
	}

	option = {
		name = EVTOPT_haredi_breslov
		desc = EVTOPT_haredi_breslov_desc
		hidden_tooltip = {
			remove_trait = haredi_litvak
			remove_trait = haredi_chassid
			remove_trait = haredi_sepharadi
		}
		add_trait = haredi_breslov
		show_trait = haredi_breslov
		ai_chance = {
			factor = 10
			modifier = { factor = 2 trait = haredi_breslov }
			modifier = { factor = 2 trait = gregarious }
			modifier = { factor = 5 trait = mystic }
			modifier = { factor = 4 trait = kind }
			
		}
	}
	
	option = {
		name = EVTOPT_haredi_chassid
		desc = EVTOPT_haredi_chassid_desc
		hidden_tooltip = {
			remove_trait = haredi_breslov
			remove_trait = haredi_litvak
			remove_trait = haredi_sepharadi
		}
		add_trait = haredi_chassid
		show_trait = haredi_chassid
		ai_chance = {
			factor = 10
			modifier = { factor = 2 trait = haredi_chassid }
			modifier = { factor = 2 trait = humble }
			modifier = { factor = 1.5 trait = lustful }
			modifier = { factor = 1.5 trait = gregarious }
			modifier = { factor = 0.1 culture = sephardi }
			modifier = { factor = 0.1 culture = sabra }
			madifier = { factor = 5 culture = yiddish }
		}
	}
	option = {
		name = EVTOPT_haredi_sepharadi
		desc = EVTOPT_haredi_sepharadi_desc
		hidden_tooltip = {
			remove_trait = haredi_breslov
			remove_trait = haredi_litvak
			remove_trait = haredi_chassid
		}
		add_trait = haredi_sepharadi
		show_trait = haredi_sepharadi
		ai_chance = {
			factor = 10
			modifier = { factor = 2 trait = haredi_sepharadi }
			modifier = { factor = 2 trait = humble }
			modifier = { factor = 1.5 trait = lustful }
			modifier = { factor = 1.5 trait = gregarious }
			modifier = { factor = 10 culture = sephardi }
			modifier = { factor = 10 culture = sabra }
			modifier = { factor = 10 culture = yemeni }
			modifier = { factor = 0.1 culture = yiddish }
		}
	}
}

######################HAREDI EVENTS#####################

#Hold Tish for your Court Rabbi
narrative_event = {
	id = jewish.10
	title = EVTTITLE_TISH_INVITATION
	desc = EVTDESC_TISH_INVITATION
	picture = GFX_evt_synagogue
	is_triggered_only = yes
	
	option = {
		name = EVTOPT_inform_haredi_rabbi
		job_spiritual = {
			add_character_flag = invited_to_tish
		}
		character_event = { id = jewish.11 days = 2 }
	}
}
character_event = {
	id = jewish.11
	desc = OK
	picture = GFX_evt_synagogue
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		random_list = {
			25 = { set_character flag = random_torah_verse_1 }
			25 = { set_character flag = random_torah_verse_2 }
			25 = { set_character flag = random_torah_verse_3 }
			25 = { set_character flag = random_torah_verse_4 }
		}
		narrative_event = { id = jewish.12 days = 2 }
	}
}
narrative_event = {
	id = jewish.12
	title = EVTTITLE_RECITING_TORAH
	#Have the Same Intro in the localization just change out the Torah Verses the Rabbi recites
	desc = {
		trigger = {
			has_character_flag = random_torah_verse_1
		}
		text = TORAH_VERSE_1
	}
	desc = {
		trigger = {
			has_character_flag = random_torah_verse_2
		}
		text = TORAH_VERSE_2
	}
	desc = {
		trigger = {
			has_character_flag = random_torah_verse_3
		}
		text = TORAH_VERSE_3
	}
	desc = {
		trigger = {
			has_character_flag = random_torah_verse_4
		}
		text = TORAH_VERSE_4
	}
	picture = GFX_evt_synagogue
	is_triggered_only = yes
	
	option = {
		name = EVTOPT_praise_rabbi
		add_character_modifier = { name = haredi_learning years = 1 }
		AND = {
			clr_character_flag = { random_torah_verse_1 }
			clr_character_flag = { random_torah_verse_2 }
			clr_character_flag = { random_torah_verse_3 }
			clr_character_flag = { random_torah_verse_4 }
		}
		narrative_event = { id = jewish.13 days = 2 }
	}
}
narrative_event = {
	id = jewish.13
	title = EVTTITLE_A_NIGHT_OUT
	desc = EVTDESC_TISH_PARTY
	picture = GFX_evt_feast
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_party_with_rabbi
		hidden_tooltip = {
			random_list = {
				5 = { add_trait = drunkard }
				95 = { }
			}
			piety = 10
		}
		narrative_event = { id = jewish.14 days = 2 }
	}
	option = {
		name = EVTOPTB_party_with_rabbi
		hidden_tooltip = {
			random_list = {
				5 = { add_trait = wounded }
				95 = { }
			}
			prestige = 10
		}
		narrative_event = { id = jewish.14 days = 2 }
	}
}
narrative_event = {
	id = jewish.14
	title = EVTTITLE_TISH_FAREWELLS
	desc = EVTDESC_TISH_END
	picture = GFX_evt_carriage
	is_triggered_only = yes
	
	option = {
		name = EVTOPT_tish_memories
		job_spiritual = {
		holder_scope = {
			opinion = {
					who = ROOT
					modifier = opinion_tish_celebration
				}
			}
		}
		clr_character_flag = invited_to_tish
	}
}

#Hitboddedut Events for Breslovers

character_event = {
	id = jewish.15
	desc = EVTDESC_hitboddedut_0
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	trigger = {
		trait = haredi_breslov
		is_adult = yes
		only_playable = yes
		capable_only = yes
		prisoner = no
		NOT = { is_inaccessible_trigger = yes }
	}
	
	mean_time_to_happen = {
		months = 36
		modifier = {
			factor = 0.5
			trait = cynical
		}
		modifier = {
			factor = 2.0
			trait = zealous
		}
		modifier = {
			factor = 1.5
			trait = depressed
		}
		
	}
	
	option = {
		name = EVTOPTA_hitboddedut_0
		add_trait = in_hiding
		set_character_flag = do_not_disturb
		set_character_flag = in_religious_seclusion
		hidden_tooltip = {
			random_list = {
				5 = {
					character_event = { id = jewish.16 days = 3 }
				}
				20 = {
					character_event = { id = jewish.17 days = 3 }
				}
				20 = {
					character_event = { id = jewish.18 days = 3 }
				}
				25 = {
					character_event = { id = jewish.19 days = 3 }
				}
				25 = {
					character_event = { id = jewish.20 days = 3 }
				}
				5 = {
					character_event = { id = jewish.21 days = 3 }
				}
			}
		}
	}		
}

character_event = {
	id = jewish.16
	desc = EVTDESC_hitboddedut_1
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	only_playable = yes
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_hitboddedut_1
		add_character_modifier = { name = breslov_foolish years = 2 }
		remove_trait = in_hiding
		clr_character_flag = do_not_disturb
		clr_character_flag = in_religious_seclusion
	}
}

character_event = {
	id = jewish.17
	desc = EVTDESC_hitboddedut_2
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	only_playable = yes
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_hitboddedut_2
		random_list = {
			10 = { add_trait = trusting }
			10 = { add_trait = content }
			10 = { add_trait = honest }
		}
		piety = 25		
		remove_trait = in_hiding
		clr_character_flag = do_not_disturb
		clr_character_flag = in_religious_seclusion
	}		
}

character_event = {
	id = jewish.18
	desc = EVTDESC_hitboddedut_3
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	only_playable = yes
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_hitboddedut_3
		random_list = {
			10 = { 
				modifier = { 
					factor = 0 
					NOT = { trait = ambitious }
				}
				remove_trait = ambitious 
			}
			10 = { 
				modifier = { 
					factor = 0 
					NOT = { trait = envious }
				}
				remove_trait = envious 
			}
			10 = { 
				modifier = { 
					factor = 0 
					NOT = { trait = cynical }
				}
				remove_trait = cynical 
			}
			10 = { 
				modifier = { 
					factor = 0 
					NOT = { trait = paranoid }
				}
				remove_trait = paranoid 
			}
			10 = { 
				modifier = { 
					factor = 0 
					NOT = { trait = deceitful }
				}
				remove_trait = deceitful 
			}
		}
		piety = 25		
		remove_trait = in_hiding
		clr_character_flag = do_not_disturb
		clr_character_flag = in_religious_seclusion
	}		
}

character_event = {
	id = jewish.19
	desc = EVTDESC_hitboddedut_4
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	only_playable = yes
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_hitboddedut_4
		random_list = {
			10 = { 
				modifier = { 
					factor = 0 
					NOT = { trait = stressed }
				}
				remove_trait = stressed 
			}
			10 = { 
				modifier = { 
					factor = 0 
					NOT = { trait = depressed }
				}
				remove_trait = depressed 
			}
		}
		piety = 25		
		remove_trait = in_hiding
		clr_character_flag = do_not_disturb
		clr_character_flag = in_religious_seclusion
	}		
}

character_event = {
	id = jewish.20
	desc = EVTDESC_hitboddedut_5
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	only_playable = yes
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_hitboddedut_5
		add_trait = cynical
		remove_trait = in_hiding
		clr_character_flag = do_not_disturb
		clr_character_flag = in_religious_seclusion
	}
	option = {
		name = EVTOPTB_hitboddedut_5
		random_list = {
			50 = { add_trait = stressed }
			50 = { add_trait = depressed }
		remove_trait = in_hiding
		clr_character_flag = do_not_disturb
		clr_character_flag = in_religious_seclusion
		}
	}
}
character_event = {
	id = jewish.21
	desc = EVTDESC_hitboddedut_6
	picture = GFX_evt_religious_exultation
	border = GFX_event_normal_frame_religion
	
	only_playable = yes
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_hitboddedut_6
		add_character_modifier = { name = breslov_rejuvenated years = 2 }
		remove_trait = in_hiding
		clr_character_flag = do_not_disturb
		clr_character_flag = in_religious_seclusion
	}
	
}

######################AI-ONLY EVENTS#####################
character_event = {
	id = jewish.200
	desc = OK
	picture = GFX_evt_religious_exultation
	hide_window = yes
	
	ai = yes
	
	trigger = {
		always = no
		AND = {
			landless = yes
			has_landed_title = d_ivri
		}
	}
	
	immediate = {
		set_government_type = theocracy_government
		d_ivri = {
			holder_scope = {
				c_west_jerusalem = {
					grant_title = PREV
					any_de_jure_vassal_title = {
						limit = {
							holder_scope = { 
								OR = {
									character = ROOT
									is_liege_or_above = ROOT
								}
							}
						}
						grant_title = PREVPREV
					}
				}
			}
		}
	}
}