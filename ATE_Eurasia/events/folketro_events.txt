namespace = troll

character_event = {
	id = troll.1
	desc = troll_eventdesc1
	picture = GFX_evt_council
	border = GFX_event_normal_frame_religion
	is_triggered_only = yes
	
	trigger = {
		religion = folketro
		trait = lamb_cult
		NOT = {trait = sympathy_christendom	}
	}
	
	option = {
		name = troll_eventopt1
		add_trait = sympathy_christendom
	}
}

character_event = {
	id = troll.2
	desc = troll_eventdesc2
	picture = GFX_evt_council
	border = GFX_event_normal_frame_religion
	is_triggered_only = yes
	
	trigger = {
		religion = folketro
		trait = hiddenfolk_cult
		NOT = {trait = sympathy_pagans	}
	}
	
	option = {
		name = troll_eventopt2
		add_trait = sympathy_pagans
	}
}

narrative_event = {
	id = troll.3
	title = EVTNAME_allsherjargode_formed
	desc = EVTDESC_allsherjargode_formed
	picture = GFX_allsherjargode
	border = GFX_event_narrative_frame_religion
	
	major = yes

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_allsherjargode_formed
		trigger = {
			religion = folketro
		}
	}
	option = {
		name = EVTOPTB_allsherjargode_formed
		trigger = {
			religion_group = vernacular
			NOT = { religion = folketro }
		}
	}
	option = {
		name = EVTOPTC_allsherjargode_formed
		trigger = {
			NOT = {
				religion_group = vernacular
			}
		}
	}
}

narrative_event = {
	id = troll.4
	title = EVTNAME_nysed_reborn
	desc = EVTDESC_nysed_reborn
	picture = GFX_allsherjargode
	border = GFX_event_narrative_frame_religion
	
	major = yes

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_nysed_reborn
		trigger = {
			religion = nysed
		}
	}
	option = {
		name = EVTOPTB_nysed_reborn
		trigger = {
			religion_group = vernacular
			NOT = { religion = nysed }
		}
	}
	option = {
		name = EVTOPTC_nysed_reborn
		trigger = {
			NOT = {
				religion_group = vernacular
			}
		}
	}
}
character_event = { #Branch decision
	id = troll.5
	desc = EVTDESC_troll_5
	picture = GFX_evt_bishop
	religion = folketro 
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			has_alternate_start_parameter = { key = religion_names value = random }
		}
	}
	
	option = {
		name = EVTOPTA_troll_5
		hidden_tooltip = {
			remove_trait = hiddenfolk_cult
		}
		add_trait = apostle_cult
		ai_chance = {
			factor = 10
			modifier = { factor = 2 learning = 5 }
			modifier = { factor = 2 diplomacy = 5 }
		}
	}
	
	option = { 
		name = EVTOPTB_troll_5
		hidden_tooltip = {
			remove_trait = apostle_cult
		}
		add_trait = hiddenfolk_cult
		ai_chance = {
			factor = 10
			modifier = { factor = 2 intrigue = 5 }
			modifier = { factor = 2 martial = 5 }
		}
	}
}

character_event = { #training to read scripture: copiead straight from Bar Mitzvah, change as y'all wish
	id = troll.6
	desc = EVTDESC_confirmation_1
	picture = GFX_evt_church_council
	
	is_triggered_only = yes
	
	trigger = {
		event_target:confirmation_target = { 
			is_alive = yes
		}

	}

	fail_trigger_effect = {
		if = {
			limit = {
				NOT = { event_target:confirmation_target = { is_alive = yes } }
			}
			clr_event_target = confirmation_target
		}
	}
	

	
	#Accept offer
	option = {
		name = EVTOPTA_confirmation_1
		
		event_target:confirmation_target = { 
			change_learning = 1
			piety = 50
			set_character_flag = confirmation_studies # eventually want to set different flags that effect the chance of success at the torah reading
		}
		job_spiritual = {
			holder_scope = {
				opinion = {
					who = confirmation_target
					modifier = opinion_good_student
				}
				add_favor = ROOT
				
			}
		}
	}
	#Teach the kid yourself
	option = {
		name = EVTOPTB_confirmation_1
		trigger = {
			OR = {
				trait = theologian
				trait = scholar
				learning = 12
			}
		}
		prestige = 50
		random_list = {
			90 = { trait = proud }
			10 = { trait = erudite }
		}
		event_target:confirmation_target = { 
			change_learning = 1
			piety = 50
			set_character_flag = confirmation_studies
		}
		job_spiritual = {
			holder_scope = {
				opinion = {
					modifier = opinion_disappointed
					who = ROOT
					years = 5
				}
			}
		}
	}
	
	#Decline offer
	option = {
		name = EVTOPTC_confirmation_1
		
		piety = -50
		
		job_spiritual = {
			holder_scope = {
				opinion = {
					modifier = opinion_disappointed
					who = ROOT
					years = 10
				}
			}
		}
	}
	after={
		#next events
	}
}