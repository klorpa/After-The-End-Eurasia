capital_holding_shipyard_trigger = {
	custom_tooltip = {
		text = HAS_SHIPYARD
		capital_holding = {
			OR = {
				has_building = ct_shipyard_1
				has_building = ct_shipyard_2
				has_building = ct_shipyard_3
				has_building = ct_shipyard_4
				has_building = tp_shipyard_1
				has_building = tp_shipyard_2
				has_building = tp_shipyard_3
				has_building = tp_shipyard_4
				has_building = fp_shipyard_1
				has_building = fp_shipyard_2
				has_building = fp_shipyard_3
				has_building = ca_shipyard_1
				has_building = ca_shipyard_2
				has_building = ca_shipyard_3
				has_building = ca_shipyard_4
				has_building = tb_shipyard_1
				has_building = tb_shipyard_2
				has_building = tb_shipyard_3
				has_building = tb_shipyard_4
			}
		}
	}
}
pirate_island_trigger = {
	primary_title = { #PLACEHOLDER
		capital_scope = {
			is_island = yes
			NOR = {
				region = custom_great_britain
				region = custom_ireland
			}
		}
	}
}

ai_pirate_trigger = {
	OR = {
		trait = ambitious
		trait = cynical
		trait = cruel
	}
	NOT = { trait = content }
}

is_sufi = {
	OR = {
		trait = naqshbandi
		trait = nimatullahi
		trait = qadiri
		trait = senussi
		trait = shadhili
		trait = bektashi
		trait = galibi
		trait = khalveti
		trait = mevlevi
	}
}

is_sunni = {
	OR = {
		religion = taharur
		religion = sunni
		religion = sunnah
		religion = naqshbandi
		religion = ruhi
		religion = barelvi
		religion = hui
		religion = ahmadi
		religion = zikri
		religion = ahl_as_salaf
	}
}

is_shiite = {
	OR = {
		religion = shiite
		religion = ismaili
		religion = zaydi
	}
}

###ETHIOPIA TRIGGERS###

#Grace triggers
has_grace_trivial_trigger = {
	OR = {
		has_offmap_currency = { offmap = offmap_china value = 10 }
		has_offmap_currency = { offmap = offmap_ethiopia value = 10 }
	}
}
has_grace_minor_trigger = {
	OR = {
		has_offmap_currency = { offmap = offmap_china value = 50 }
		has_offmap_currency = { offmap = offmap_ethiopia value = 50 }
	}
}
has_grace_medium_trigger = {
	OR = {
		has_offmap_currency = { offmap = offmap_china value = 150 }
		has_offmap_currency = { offmap = offmap_ethiopia value = 150 }
	}
}
has_grace_major_trigger = {
	OR = {
		has_offmap_currency = { offmap = offmap_china value = 500 }
		has_offmap_currency = { offmap = offmap_ethiopia value = 500 }
	}
}
has_grace_massive_trigger = { 
	OR = {
		has_offmap_currency = { offmap = offmap_china value = 1000 }
		has_offmap_currency = { offmap = offmap_ethiopia value = 1000 }
	}
}


#Always put this at the end of your triggers!
china_diplo_interaction_trigger = { 
	offmap_china = {
		governor = { 
			NOT = { war_with = PREVPREV } 
			is_within_diplo_range = PREVPREV
		}
		NOR = { has_policy = china_isolationist has_policy = ethiopia_isolationist }
	}
	conditional_tooltip = { 
		trigger = { government = chinese_imperial_government }
		custom_tooltip = { 
			text = china_offmap_decisions_pretender_emperor_tt
			always = no
		}
	}
	conditional_tooltip = { 
		trigger = { government = ethiopian_imperial_government }
		custom_tooltip = { 
			text = ethiopia_offmap_decisions_pretender_emperor_tt
			always = no
		}
	}
}

ethiopia_is_suffering_trigger = {
	offmap_ethiopia = {
		OR = {
			has_status = ethiopia_unrest
			has_status = ethiopia_civil_war
			has_status = ethiopia_famine
			has_status = ethiopia_plague
			has_status = ethiopia_mongol_invasion
			has_status = ethiopia_jurchen_invasion
		}
	}
}

ethiopia_is_fine_trigger = { #"fine", read like "fiii-iine", i.e. Ethiopia is currently treating the world as their oyster
	offmap_ethiopia = {
		OR = {
			has_status = ethiopia_golden_age
			has_status = ethiopia_stable
		}
		OR = {
			has_policy = ethiopia_open
			has_policy = ethiopia_expansionist
		}
	}
}

ethiopia_is_stable_open_trigger = {
	offmap_ethiopia = {
		has_status = ethiopia_stable
		has_policy = ethiopia_open
	}
}
ethiopia_is_stable_expansionist_trigger = {
	offmap_ethiopia = {
		has_status = ethiopia_stable
		has_policy = ethiopia_expansionist
	}
}
ethiopia_is_golden_age_open_trigger = {
	offmap_ethiopia = {
		has_status = ethiopia_golden_age
		has_policy = ethiopia_open
	}
}
ethiopia_is_golden_age_expansionist_trigger = {
	offmap_ethiopia = {
		has_status = ethiopia_golden_age
		has_policy = ethiopia_expansionist
	}
}


#Found in the 00_offmap_powers file... and the conditions for the decisions
ethiopia_offmap_boon_decisions_enabled_trigger = {
	ethiopia_offmap_decisions_enabled_trigger = yes
	custom_tooltip = {
		text = ethiopia_offmap_boon_decisions_enabled_trigger_cd_tt #From is player character
		FROM = { NOT = { has_character_modifier = jd_ethiopia_boon_cd } } #boon cooldown, which is set in each decision (one year!)...
	}
}

#Found in the 00_offmap_powers file... and the conditions for the decisions, use custom tooltip for that decisions cooldown modifier
ethiopia_offmap_tribute_decisions_enabled_trigger = {
	ethiopia_offmap_decisions_enabled_trigger = yes
}

#What goes into the two triggers above...
ethiopia_offmap_decisions_enabled_trigger = { 
	offmap_ethiopia = {
		NOT = { has_policy = ethiopia_isolationist }
		custom_tooltip = {
			text = ethiopia_offmap_decisions_enabled_trigger_war_tt #"Is at peace with §Y[From.GetTitledFirstName]§!"
			NOT = { governor = { war_with = FROM } }
		}
		governor = {
			show_scope_change = no
			is_within_diplo_range = FROM
			hidden_trigger  = { NOT = { character = FROM } } #Governor cannot use boon/tributes decisions
		}
	}
	custom_tooltip = {
		text = ethiopia_offmap_boon_decisions_enabled_trigger_raiding_tt
		FROM = {
			NOR = {
				has_character_modifier = ethiopia_raid_active
				has_character_modifier = ethiopia_raid_grace_cd
			}
		}
	}
	hidden_trigger = { has_dlc = "Jade Dragon" }
	conditional_tooltip = { 
		trigger = { FROM = { primary_title = { has_title_flag = rebel_general_title } } }
		custom_tooltip = { 
			text = ethiopia_offmap_decisions_pretender_emperor_tt
			always = no
		}
	}
	conditional_tooltip = { 
		trigger = { FROM = { has_character_modifier = failed_invasion_of_ethiopia } }
		custom_tooltip = { 
			text = ethiopia_offmap_decisions_failed_invasion_tt
			always = no
		}
	}
}

#Found in the 00_offmap_powers file... and the conditions for the force open ethiopia decision
ethiopia_offmap_hostile_decisions_enabled_trigger = {
	offmap_ethiopia = {
		custom_tooltip = {
			text = ethiopia_offmap_decisions_enabled_trigger_war_tt #"Is at peace with §Y[From.GetTitledFirstName]§!"
			NOT = { governor = { war_with = FROM } }
		}
		governor = {
			show_scope_change = no
			is_within_diplo_range = FROM
			hidden_trigger  = { NOT = { character = FROM } } #Governor cannot use boon/tributes decisions
		}
		offmap_ruler = {
			NOT = { dynasty = FROM }
		}
	}
	hidden_trigger = { has_dlc = "Jade Dragon" }
}

#Used with Sending Tribute characters to China...
local_third_party_score_low_trigger = {
	NOT = { check_variable = { which = local_third_party_score value = 91 } }
}
local_third_party_score_medium_trigger = {
	check_variable = { which = local_third_party_score value = 91 }
	NOT = { check_variable = { which = local_third_party_score value = 141 } }
}
local_third_party_score_great_trigger = {
	check_variable = { which = local_third_party_score value = 141 }
}

# For checking the Ethiopia Emperor's likes & dislikes
is_liked_by_Ethiopia_trigger = {
	liked_by_offmap = {
        type = offmap_ethiopia
    }
    NOT = {
        disliked_by_offmap = {
            type = offmap_ethiopia
        }
    }
    offmap_ethiopia = {
        show_scope_change = no
        custom_tooltip = { text = emperor_likes_THIS_tt }
    }
}

is_disliked_by_Ethiopia_trigger = {
	disliked_by_offmap = {
        type = offmap_ethiopia
    }
    NOT = {
		liked_by_offmap = {
            type = offmap_ethiopia
        }
    }
    offmap_ethiopia = {
        show_scope_change = no
        custom_tooltip = { text = emperor_dislikes_THIS_tt }
    }
}

is_liked_and_disliked_by_Ethiopia = {
    disliked_by_offmap = {
        type = offmap_ethiopia
    }
    liked_by_offmap = {
        type = offmap_ethiopia
    }
    offmap_ethiopia = {
        show_scope_change = no
        custom_tooltip = { text = emperor_has_ambiguous_feelings_of_THIS_tt }
    }
}

#Used in the invasion script...
valid_offmap_ethiopia_target = {
	NOT = { character = ROOT }
	NOT = { has_character_modifier = peace_deal_with_ethiopia }
	NOT = { has_character_flag = defeated_ethiopia }
	NOT = {	is_tributary = { suzerain = ROOT } }
	in_revolt = no
	is_within_diplo_range = ROOT
	is_landed = yes
	higher_tier_than = BARON
	NOT = { primary_title = { has_title_flag = rebel_general_title } } #uses special cb to target
	NOT = { offmap_ethiopia = { offmap_ruler = { dynasty = PREVPREV } } }
}

valid_offmap_ethiopia_target_location = {
	OR = {
		any_realm_province = { region = custom_chinese_invasion_target_region }
		any_neighbor_independent_ruler = {
			has_landed_title = e_ethiopia
		}
	}
}

valid_offmap_china_target_location_tributary_chain = {
	OR = {
		#any_realm_province = { region = custom_ethopian_invasion_target_region }
		any_neighbor_independent_ruler = {
			has_landed_title = e_ethiopia
		}
		any_neighbor_independent_ruler = {
			is_tributary = yes
			suzerain = {
				has_landed_title = e_ethiopia
			}
		}
	}
}